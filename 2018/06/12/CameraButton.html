<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name = "viewport" content = "width = 1200">
	<link href='https://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="/styles.css" />
	<link rel="stylesheet" href="/highlightswift.css" />
	<title>Pablo Apps - Apps for iPhone, iPad and Apple TV</title>
</head>

<body>
	<div id="wrapper">
	<header>
	

<table>
    <tr>
        <td class="d1">
            <hgroup>
				<h1><a href="/">Pablo Garcia</a></h1>
				<h2>Apps for iPhone, iPad, Apple TV and Apple Watch</h2>
			</hgroup>
        </td>
        
        <td class="d3">
			<nav>
				<ul>
					<li><a href="/">Home</a></li>
					<li><a href="/blog/">Blog</a></li>
					<li><a href="/contact/">Contact</a></li>
				</ul>
				
			</nav>
        </td>
        
    </tr>
</table>

</header>

	
		
    <div id="content">
    	<div id="post">
    		<article>
                <div>
    			<header>
    				<h1>Camera Record Button</h1>
    				<time>June 12, 2018
                </time>
    			</header>

				<p>For a project that I’ve been working on, I decided to create a record button like the one in iOS.</p>

<p>Here is the result.</p>

<p align="center">
  <img width="300" src="/images/recordbutton.gif" />
</p>

<p>The source code is on <a href="https://github.com/pablogsIO/RecordButton/tree/master/Source">github</a></p>

<h4 id="overriding-the-draw_-rect-cgrect-function">Overriding the draw(_ rect: CGRect) function</h4>

<p>RecordButton extends UIView and overrides the draw(_ rect: CGRect) function. In this function, we draw the button and add a gesture recognizer to detect when the button is pressed. We also add an animation to transform the button from a round shape to a square.</p>

<h4 id="delegate">Delegate</h4>

<p>Classes that use RecordButton class should implement RecordButtonDelegate to know the button has been pressed.</p>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protocol</span> <span class="kt">RecordButtonDelegate</span><span class="p">:</span> <span class="kd">class</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">tapButton</span><span class="p">(</span><span class="nv">isRecording</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="usage">Usage</h3>

<h4 id="interface-builder">Interface Builder</h4>

<ul>
  <li>Drag RecordButton class into your project</li>
  <li>In your storyboard, select an UIView</li>
  <li>Go the the identity inspector and in the class field, type RecordButton instead of UIView</li>
</ul>

<p align="center">
    <img width="800" src="/images/IBRecordButton.gif" />
</p>

<h4 id="manually">Manually</h4>

<ul>
  <li>Drag RecordButton class into your project</li>
  <li>In your ViewController add the following</li>
</ul>

<div class="language-swift highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">var</span> <span class="nv">recordButton</span><span class="p">:</span> <span class="kt">RecordButton</span><span class="p">?</span>
    <span class="k">override</span> <span class="kd">func</span> <span class="nf">viewDidAppear</span><span class="p">(</span><span class="n">_</span> <span class="nv">animated</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>

        <span class="k">super</span><span class="o">.</span><span class="nf">viewDidAppear</span><span class="p">(</span><span class="n">animated</span><span class="p">)</span>

        <span class="k">let</span> <span class="nv">recordButtonSide</span> <span class="o">=</span> <span class="k">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">size</span><span class="o">.</span><span class="n">height</span><span class="o">/</span><span class="mi">10</span>
        <span class="n">recordButton</span> <span class="o">=</span> <span class="kt">RecordButton</span><span class="p">(</span><span class="nv">frame</span><span class="p">:</span> <span class="kt">CGRect</span><span class="p">(</span><span class="nv">x</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">width</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="n">recordButtonSide</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
                                                  <span class="nv">y</span><span class="p">:</span> <span class="k">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">bounds</span><span class="o">.</span><span class="n">height</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="n">recordButtonSide</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span>
                                                  <span class="nv">width</span><span class="p">:</span> <span class="n">recordButtonSide</span><span class="p">,</span>
                                                  <span class="nv">height</span><span class="p">:</span> <span class="n">recordButtonSide</span><span class="p">))</span>
        <span class="n">recordButton</span><span class="p">?</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>

        <span class="k">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="nf">addSubview</span><span class="p">(</span><span class="n">recordButton</span><span class="o">!</span><span class="p">)</span>

    <span class="p">}</span>
</code></pre></div></div>

<p>You can download the full project with a fully functional example <a href="https://github.com/pablogsIO/RecordButton">here</a></p>

<p>And that’s it!! If you use it I’ll be happy to know about it.</p>


                <div id="post-divider">
                    <section id="pagination">
                        
                        <a class="pagination-previous" href="/2018/07/09/Front-Camera-UIView.html">Front Camera UIView &raquo</a>
                        
                        
                        <a class="pagination-next" href="/2018/05/02/Geometric-Loaders.html">&laquo; Geometric Loaders </a>
                                
                    </section>
                </div>
            </div>

			</article>    
    	</div>

	</div>
    
	<footer>	
	<p>&copy; 2018 <a href="mailto:pablo@pablogs.io">Pablo Garcia. </a><a href="https://jekyllrb.com">Powered by Jekyll</a></p>
</footer>

</body>

</html>


