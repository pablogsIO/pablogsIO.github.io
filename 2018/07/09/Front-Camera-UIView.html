<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name = "viewport" content = "width = 1200">
	<link href='https://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="/styles.css" />
	<link rel="stylesheet" href="/highlightswift.css" />
	<title>Pablo Apps - Apps for iPhone, iPad and Apple TV</title>
</head>

<body>
	<div id="wrapper">
	<header>
	

<table>
    <tr>
        <td class="d1">
            <hgroup>
				<h1><a href="/">Pablo Garcia</a></h1>
				<h2>Apps for iPhone, iPad, Apple TV and Apple Watch</h2>
			</hgroup>
        </td>
        
        <td class="d3">
			<nav>
				<ul>
					<li><a href="/">Home</a></li>
					<li><a href="/blog/">Blog</a></li>
					<li><a href="/contact/">Contact</a></li>
				</ul>
				
			</nav>
        </td>
        
    </tr>
</table>

</header>

	
		
    <div id="content">
    	<div id="post">
    		<article>
                <div>
    			<header>
    				<h1>Front Camera UIView</h1>
    				<time>July 9, 2018
                </time>
    			</header>

				<p>I’ve developed a FrontCameraView UIView class for a project that I’ve been working on ( Don’t you think Luis? ;) ). This project has allowed me the opportunity to study Apple’s AVFoundation framework.</p>

<p>According to Apple documentation:</p>

<p>The AVFoundation framework combines four major technology areas that together encompass a wide range of tasks for capturing, processing, synthesising, controlling, importing and exporting audiovisual media on Apple platforms.</p>

<p>The main features of FrontCameraView class are:</p>

<ul>
  <li>Preview front camera</li>
  <li>Move the preview UIView to every corner of the screen.</li>
  <li>Record video</li>
</ul>

<h3 id="configure-camera-and-microphone-permission">Configure camera and microphone permission</h3>

<p>First of all, we need to ask the user for permission to use the camera and microphone. That’s why we
need to configure our Info.plist. Include the NSCameraUsageDescription and NSMicrophoneUsageDescription key in your app’s Info.plist file. For each key we have to provide a message that explains to the user why our app needs to capture media.</p>

<p>This message will appear the first time we run the app and usually the user accepts it. But, what happens if the user has revoked this permission? I think it’s a good idea to check out if our app still has permission to access the camera and microphone. If not, we could show a warning message to the user stating that and offering a solution.</p>

<p>With this line of code we will show a warning message and, if the user presses the Settings button, send him to the app’s configuration panel.</p>

<h3 id="cameramanager-class">CameraManager class</h3>

<p>This class manage camera permissions, access, configuration, preview and recording.</p>

<p>This class has the following public functions:</p>

<ul>
  <li>previewFrontCamera</li>
  <li>startRecording</li>
  <li>stopRecording</li>
  <li>cameraAuthorisation</li>
</ul>

<h3 id="frontcameraview-class">FrontCameraView class</h3>

<p>This class shows the camera preview and allows the user to move the view to every corner of the screen and start and stop recording the camera preview.</p>

<p>This class has the following public functions:</p>

<ul>
  <li>starPreview</li>
  <li>stopPreview</li>
  <li>startRecording</li>
  <li>stopRecording</li>
</ul>

<h3 id="frontcameraview-in-action">FrontCameraView in Action</h3>

<p align="center">
    <img width="200" src="/images/duck.gif" />
</p>

<p>You can download the full project with a fully functional example <a href="https://github.com/pablogsIO/FrontCameraView">here</a></p>

<p>And that’s it!! If you use it I’ll be happy to know about it.</p>


                <div id="post-divider">
                    <section id="pagination">
                        
                        
                        <a class="pagination-next" href="/2018/06/12/CameraButton.html">&laquo; Camera Record Button </a>
                                
                    </section>
                </div>
            </div>

			</article>    
    	</div>

	</div>
    
	<footer>	
	<p>&copy; 2018 <a href="mailto:pablo@pablogs.io">Pablo Garcia. </a><a href="https://jekyllrb.com">Powered by Jekyll</a></p>
</footer>

</body>

</html>


