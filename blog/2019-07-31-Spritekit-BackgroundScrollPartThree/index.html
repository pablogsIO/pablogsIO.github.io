<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Pablo Garcia"/><link rel="canonical" href="https://pablogs.io/blog/2019-07-31-Spritekit-BackgroundScrollPartThree"/><meta name="twitter:url" content="https://pablogs.io/blog/2019-07-31-Spritekit-BackgroundScrollPartThree"/><meta name="og:url" content="https://pablogs.io/blog/2019-07-31-Spritekit-BackgroundScrollPartThree"/><title>Spritekit - Background Scrolling - III | Pablo Garcia</title><meta name="twitter:title" content="Spritekit - Background Scrolling - III | Pablo Garcia"/><meta name="og:title" content="Spritekit - Background Scrolling - III | Pablo Garcia"/><meta name="description" content="In this final post we will add speed to the background movement. When we will press the screen, we will increase the speed of the background, and if we stop pressing the screen, the speed will decrease to zero."/><meta name="twitter:description" content="In this final post we will add speed to the background movement. When we will press the screen, we will increase the speed of the background, and if we stop pressing the screen, the speed will decrease to zero."/><meta name="og:description" content="In this final post we will add speed to the background movement. When we will press the screen, we will increase the speed of the background, and if we stop pressing the screen, the speed will decrease to zero."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Pablo Garcia"/></head><body class="item-page"><div class="wrapper"><header><div class="header-divider"><div class="site"><a class="site-name" href="/">Pablo Garcia</a><p>Apps for iPhone, iPad, Apple TV and Apple Watch</p></div><nav class="header-nav"><ul class="header-ul"><li class="header-li"><a href="/home">home</a></li><li class="header-li"><a class="selected" href="/blog">blog</a></li><li class="header-li"><a href="/contact">contact</a></li></ul></nav></div></header><article><div class="content-post-detail"><h1 class="post-title">Spritekit - Background Scrolling - III</h1><p class="release-date">Jul 31, 2019</p><p>In this final post we will add speed to the background movement. When we will press the screen, we will increase the speed of the background, and if we stop pressing the screen, the speed will decrease to zero.</p><p>This will be the result:</p><p align="center">
  <img width="400" src="/images/posts/spritekit/backgroundscroll/spritekit3.gif">
</p><h3>Gesture recognizer</h3><p>We need to know when the user is pressing the screen, so in the didMove function, we have added a UILongPressGestureRecognizer var and added to the scene's view.</p><pre><code><span class="keyword">override func</span> didMove(to view: <span class="type">SKView</span>) {

        <span class="keyword">let</span> longPressGR = <span class="type">UILongPressGestureRecognizer</span>(target: <span class="keyword">self</span>, action: <span class="keyword">#selector</span>(<span class="call">longPress</span>(sender:)))
        longPressGR.<span class="property">delegate</span> = <span class="keyword">self</span>
        longPressGR.<span class="property">minimumPressDuration</span> = <span class="number">0.1</span>
        <span class="keyword">self</span>.<span class="property">view</span>?.<span class="call">addGestureRecognizer</span>(longPressGR)

        speedLabel = <span class="type">SKLabelNode</span>(fontNamed: <span class="string">"Chalkduster"</span>)
        speedLabel.<span class="property">fontSize</span> = <span class="number">50</span>
        speedLabel.<span class="property">text</span> = <span class="string">"0.0"</span>
        speedLabel.<span class="property">horizontalAlignmentMode</span> = .<span class="dotAccess">right</span>
        speedLabel.<span class="property">position</span> = <span class="type">CGPoint</span>(x: <span class="number">400</span>, y: <span class="number">700</span>)
        <span class="call">addChild</span>(speedLabel)
    }

</code></pre><h3>update function</h3><p>We have changed the update function of the BackgroundScroll class, adding a new boolean parameter to tell the backgroundScroll if he has to increase (or not) the background speed.</p><pre><code>

<span class="keyword">public func</span> update(deltaTime: <span class="type">TimeInterval</span>, increaseVelocity: <span class="type">Bool</span>)

</code></pre><p>And that's all folks!!</p><p>You have the code <a href="https://github.com/pablogsIO/pablogsIO.github.io/tree/master/sourcecode/spritekit/BackgroundScrollPartThree">here</a>. Hope you enjoy it!</p></div></article><footer><p>Â© 2021 Pablo Garcia. Built in Swift using <a href="https://github.com/johnsundell/publish" target="_blank" rel="noreferrer">Publish</a></p><p><a href="https://github.com/pablogsio" target="_blank" rel="noreferrer">GitHub</a> | <a href="https://pablogs.io/feed.rss">RSS Feed</a></p></footer></div></body></html>