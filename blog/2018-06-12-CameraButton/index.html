<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Pablo Garcia"/><link rel="canonical" href="https://pablogs.io/blog/2018-06-12-CameraButton"/><meta name="twitter:url" content="https://pablogs.io/blog/2018-06-12-CameraButton"/><meta name="og:url" content="https://pablogs.io/blog/2018-06-12-CameraButton"/><title>Camera Record Button | Pablo Garcia</title><meta name="twitter:title" content="Camera Record Button | Pablo Garcia"/><meta name="og:title" content="Camera Record Button | Pablo Garcia"/><meta name="description" content="For a project that I've been working on, I decided to create a record button like the one in iOS."/><meta name="twitter:description" content="For a project that I've been working on, I decided to create a record button like the one in iOS."/><meta name="og:description" content="For a project that I've been working on, I decided to create a record button like the one in iOS."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Pablo Garcia"/></head><body class="item-page"><div class="wrapper"><header><div class="header-divider"><div class="site"><a class="site-name" href="/">Pablo Garcia</a><p>Apps for iPhone, iPad, Apple TV and Apple Watch</p></div><nav class="header-nav"><ul class="header-ul"><li class="header-li"><a href="/home">home</a></li><li class="header-li"><a class="selected" href="/blog">blog</a></li><li class="header-li"><a href="/contact">contact</a></li></ul></nav></div></header><article><div class="content-post-detail"><h1 class="post-title">Camera Record Button</h1><p class="release-date">Jun 12, 2018</p><p>For a project that I've been working on, I decided to create a record button like the one in iOS.</p><p>Here is the result.</p><p align="center">
  <img width="300" src="/images/posts/camera/recordbutton.gif">
</p><p>The source code is on <a href="https://github.com/pablogsIO/RecordButton/tree/master/Source">github</a></p><h4>Overriding the draw(_ rect: CGRect) function</h4><p>RecordButton extends UIView and overrides the draw(_ rect: CGRect) function. In this function, we draw the button and add a gesture recognizer to detect when the button is pressed. We also add an animation to transform the button from a round shape to a square.</p><h4>Delegate</h4><p>Classes that use RecordButton class should implement RecordButtonDelegate to know the button has been pressed.</p><pre><code><span class="keyword">protocol</span> RecordButtonDelegate: <span class="keyword">class</span> {

    <span class="keyword">func</span> tapButton(isRecording: <span class="type">Bool</span>)
}
</code></pre><h3>Usage</h3><h4>Interface Builder</h4><ul><li>Drag RecordButton class into your project</li><li>In your storyboard, select an UIView</li><li>Go the the identity inspector and in the class field, type RecordButton instead of UIView</li></ul><p align="center">
    <img width="800" src="/images/posts/camera/IBRecordButton.gif">
</p><h4>Manually</h4><ul><li>Drag RecordButton class into your project</li><li>In your ViewController add the following</li></ul><pre><code>     <span class="keyword">var</span> recordButton: <span class="type">RecordButton</span>?
    <span class="keyword">override func</span> viewDidAppear(<span class="keyword">_</span> animated: <span class="type">Bool</span>) {

        <span class="keyword">super</span>.<span class="call">viewDidAppear</span>(animated)

        <span class="keyword">let</span> recordButtonSide = <span class="keyword">self</span>.<span class="property">view</span>.<span class="property">bounds</span>.<span class="property">size</span>.<span class="property">height</span>/<span class="number">10</span>
        recordButton = <span class="type">RecordButton</span>(frame: <span class="type">CGRect</span>(x: <span class="keyword">self</span>.<span class="property">view</span>.<span class="property">bounds</span>.<span class="property">width</span>/<span class="number">2</span>-recordButtonSide/<span class="number">2</span>,
                                                  y: <span class="keyword">self</span>.<span class="property">view</span>.<span class="property">bounds</span>.<span class="property">height</span>/<span class="number">2</span>-recordButtonSide/<span class="number">2</span>,
                                                  width: recordButtonSide,
                                                  height: recordButtonSide))
        recordButton?.<span class="property">delegate</span> = <span class="keyword">self

        self</span>.<span class="property">view</span>.<span class="call">addSubview</span>(recordButton!)

    }
</code></pre><p>You can download the full project with a fully functional example <a href="https://github.com/pablogsIO/RecordButton">here</a></p><p>And that's it!! If you use it I'll be happy to know about it.</p></div></article><footer><p>Â© 2021 Pablo Garcia. Built in Swift using <a href="https://github.com/johnsundell/publish" target="_blank" rel="noreferrer">Publish</a></p><p><a href="https://github.com/pablogsio" target="_blank" rel="noreferrer">GitHub</a> | <a href="https://pablogs.io/feed.rss">RSS Feed</a></p></footer></div></body></html>